!function(a,b,c,d){"use strict";function e(b,c,d){var h,f=this,g="cbp";if(a.data(b,"cubeportfolio"))throw new Error("cubeportfolio is already initialized. Destroy it before initialize again!");a.data(b,"cubeportfolio",f),f.options=a.extend({},a.fn.cubeportfolio.options,c),f.isAnimating=!0,f.defaultFilter=f.options.defaultFilter,f.registeredEvents=[],f.queue=[],f.addedWrapp=!1,a.isFunction(d)&&f.registerEvent("initFinish",d,!0),f.obj=b,f.$obj=a(b),h=f.$obj.children(),f.options.caption&&("expand"===f.options.caption||e.private.modernBrowser||(f.options.caption="minimal"),g+=" cbp-caption-active cbp-caption-"+f.options.caption),f.$obj.addClass(g),(0===h.length||h.first().hasClass("cbp-item"))&&(f.wrapInner(f.obj,"cbp-wrapper"),f.addedWrapp=!0),f.$ul=f.$obj.children().addClass("cbp-wrapper"),f.wrapInner(f.obj,"cbp-wrapper-outer"),f.wrapper=f.$obj.children(".cbp-wrapper-outer"),f.blocks=f.$ul.children(".cbp-item"),f.blocksOn=f.blocks,f.wrapInner(f.blocks,"cbp-item-wrapper"),f.plugins=a.map(e.plugins,function(a){return a(f)}),f.triggerEvent("afterPlugins"),f.loadImages(f.$obj,f.display)}a.extend(e.prototype,{storeData:function(b,c){var d=this;c=c||0,b.each(function(b,e){var f=a(e),g=f.width(),h=f.height();f.data("cbp",{index:c+b,wrapper:f.children(".cbp-item-wrapper"),widthInitial:g,heightInitial:h,width:g,height:h,widthAndGap:g+d.options.gapVertical,heightAndGap:h+d.options.gapHorizontal,left:null,leftNew:null,top:null,topNew:null,pack:!1})})},wrapInner:function(a,b){var f,g,h;if(b=b||"",!(a.length&&a.length<1))for(a.length===d&&(a=[a]),g=a.length-1;g>=0;g--){for(f=a[g],h=c.createElement("div"),h.setAttribute("class",b);f.childNodes.length;)h.appendChild(f.childNodes[0]);f.appendChild(h)}},removeAttrImage:function(a){a.removeAttribute("width"),a.removeAttribute("height"),a.removeAttribute("style")},loadImages:function(b,c){var d=this;requestAnimationFrame(function(){var e=b.find("img").map(function(b,c){return c.hasAttribute("width")&&c.hasAttribute("height")?(c.style.width=c.getAttribute("width")+"px",c.style.height=c.getAttribute("height")+"px",c.hasAttribute("data-cbp-src")?null:(null===d.checkSrc(c.src)?d.removeAttrImage(c):a("<img>").on("load.cbp error.cbp",function(){d.removeAttrImage(c)}).attr("src",c.src),null)):d.checkSrc(c.src)}),f=e.length;return 0===f?void c.call(d):void a.each(e,function(b,e){a("<img>").on("load.cbp error.cbp",function(){f--,0===f&&c.call(d)}).attr("src",e)})})},checkSrc:function(a){if(""===a)return null;var b=new Image;return b.src=a,b.complete&&b.naturalWidth!==d&&0!==b.naturalWidth?null:a},display:function(){var a=this;a.width=a.$obj.outerWidth(),a.storeData(a.blocks),a.triggerEvent("initStartRead"),a.triggerEvent("initStartWrite"),a.layoutAndAdjustment(),a.triggerEvent("initEndRead"),a.triggerEvent("initEndWrite"),a.$obj.addClass("cbp-ready"),a.runQueue("delayFrame",a.delayFrame)},delayFrame:function(){var a=this;requestAnimationFrame(function(){a.resizeEvent(),a.triggerEvent("initFinish"),a.isAnimating=!1,a.$obj.trigger("initComplete.cbp")})},resizeEvent:function(){var b,a=this;e.private.initResizeEvent({instance:a,fn:function(){var a=this;a.triggerEvent("beforeResizeGrid"),b=a.$obj.outerWidth(),a.width!==b&&("alignCenter"===a.options.gridAdjustment&&(a.wrapper[0].style.maxWidth=""),a.width=b,a.layoutAndAdjustment(),a.triggerEvent("resizeGrid")),a.triggerEvent("resizeWindow")}})},gridAdjust:function(){var b=this;"responsive"===b.options.gridAdjustment?b.responsiveLayout():(b.blocks.removeAttr("style"),b.blocks.each(function(c,d){var e=a(d).data("cbp"),f=d.getBoundingClientRect(),g=b.columnWidthTruncate(f.right-f.left),h=Math.round(f.bottom-f.top);e.height=h,e.heightAndGap=h+b.options.gapHorizontal,e.width=g,e.widthAndGap=g+b.options.gapVertical}),b.widthAvailable=b.width+b.options.gapVertical),b.triggerEvent("gridAdjust")},layoutAndAdjustment:function(){var a=this;a.gridAdjust(),a.layout()},layout:function(){var a=this;a.computeBlocks(a.filterConcat(a.defaultFilter)),"slider"===a.options.layoutMode?(a.sliderLayoutReset(),a.sliderLayout()):(a.mosaicLayoutReset(),a.mosaicLayout()),a.positionateItems(),a.resizeMainContainer()},computeFilter:function(a){var b=this;b.computeBlocks(a),b.mosaicLayoutReset(),b.mosaicLayout(),b.filterLayout()},filterLayout:function(){var b=this;b.blocksOff.addClass("cbp-item-off"),b.blocksOn.removeClass("cbp-item-off").each(function(b,c){var d=a(c).data("cbp");d.left=d.leftNew,d.top=d.topNew,c.style.left=d.left+"px",c.style.top=d.top+"px"}),b.resizeMainContainer(),b.filterFinish()},filterFinish:function(){var a=this;a.blocksAreSorted&&a.sortBlocks(a.blocks,"index"),a.isAnimating=!1,a.$obj.trigger("filterComplete.cbp"),a.triggerEvent("filterFinish")},computeBlocks:function(a){var b=this;b.blocksOnInitial=b.blocksOn,b.blocksOn=b.blocks.filter(a),b.blocksOff=b.blocks.not(a),b.triggerEvent("computeBlocksFinish",a)},responsiveLayout:function(){var b=this;b.cols=b[a.isArray(b.options.mediaQueries)?"getColumnsBreakpoints":"getColumnsAuto"](),b.columnWidth=b.columnWidthTruncate((b.width+b.options.gapVertical)/b.cols),b.widthAvailable=b.columnWidth*b.cols,"mosaic"===b.options.layoutMode&&b.getMosaicWidthReference(),b.blocks.each(function(c,d){var g,e=a(d).data("cbp"),f=1;"mosaic"===b.options.layoutMode&&(f=b.getColsMosaic(e.widthInitial)),g=b.columnWidth*f-b.options.gapVertical,d.style.width=g+"px",e.width=g,e.widthAndGap=g+b.options.gapVertical,d.style.height=""});var c=[];b.blocks.each(function(b,d){var e=a(d),f=e.data("cbp").width;a.each(e.find("img").filter("[width][height]"),function(a,b){var d=f/parseInt(b.getAttribute("width"),10);c.push({el:b,width:f,height:Math.floor(parseInt(b.getAttribute("height"),10)*d)})})}),a.each(c,function(a,b){b.el.width=b.width,b.el.height=b.height,b.el.style.width=b.width+"px",b.el.style.height=b.height+"px"}),b.blocks.each(function(c,d){var e=a(d).data("cbp"),f=d.getBoundingClientRect(),g=Math.round(f.bottom-f.top);e.height=g,e.heightAndGap=g+b.options.gapHorizontal})},getMosaicWidthReference:function(){var b=this,c=[];b.blocks.each(function(b,d){var e=a(d).data("cbp");c.push(e.widthInitial)}),c.sort(function(a,b){return a-b}),c[0]?b.mosaicWidthReference=c[0]:b.mosaicWidthReference=b.columnWidth},getColsMosaic:function(a){var b=this;if(a===b.width)return b.cols;var c=a/b.mosaicWidthReference;return c=c%1>=.79?Math.ceil(c):Math.floor(c),Math.min(Math.max(c,1),b.cols)},getColumnsAuto:function(){var a=this;if(0===a.blocks.length)return 1;var b=a.blocks.first().data("cbp").widthInitial+a.options.gapVertical;return Math.max(Math.round(a.width/b),1)},getColumnsBreakpoints:function(){var e,b=this,c=b.width;return a.each(b.options.mediaQueries,function(a,b){if(c>=b.width)return e=b.cols,!1}),e===d&&(e=b.options.mediaQueries[b.options.mediaQueries.length-1].cols),e},columnWidthTruncate:function(a){return Math.floor(a)},positionateItems:function(){var c,b=this;b.blocksOn.removeClass("cbp-item-off").each(function(b,d){c=a(d).data("cbp"),c.left=c.leftNew,c.top=c.topNew,d.style.left=c.left+"px",d.style.top=c.top+"px"}),b.blocksOff.addClass("cbp-item-off"),b.blocksAreSorted&&b.sortBlocks(b.blocks,"index")},resizeMainContainer:function(){var f,b=this,c=Math.max(b.freeSpaces.slice(-1)[0].topStart-b.options.gapHorizontal,0);return"alignCenter"===b.options.gridAdjustment&&(f=0,b.blocksOn.each(function(b,c){var d=a(c).data("cbp"),e=d.left+d.width;e>f&&(f=e)}),b.wrapper[0].style.maxWidth=f+"px"),c===b.height?void b.triggerEvent("resizeMainContainer"):(b.obj.style.height=c+"px",b.height!==d&&(e.private.modernBrowser?b.$obj.one(e.private.transitionend,function(){b.$obj.trigger("pluginResize.cbp")}):b.$obj.trigger("pluginResize.cbp")),b.height=c,void b.triggerEvent("resizeMainContainer"))},filterConcat:function(a){return a.replace(/\|/gi,"")},pushQueue:function(a,b){var c=this;c.queue[a]=c.queue[a]||[],c.queue[a].push(b)},runQueue:function(b,c){var d=this,e=d.queue[b]||[];a.when.apply(a,e).then(a.proxy(c,d))},clearQueue:function(a){var b=this;b.queue[a]=[]},registerEvent:function(a,b,c){var d=this;d.registeredEvents[a]||(d.registeredEvents[a]=[]),d.registeredEvents[a].push({func:b,oneTime:c||!1})},triggerEvent:function(a,b){var d,e,c=this;if(c.registeredEvents[a])for(d=0,e=c.registeredEvents[a].length;d<e;d++)c.registeredEvents[a][d].func.call(c,b),c.registeredEvents[a][d].oneTime&&(c.registeredEvents[a].splice(d,1),d--,e--)},addItems:function(b,c){var d=this;d.wrapInner(b,"cbp-item-wrapper"),b.addClass("cbp-item-loading").css({top:"100%",left:0}).appendTo(d.$ul),e.private.modernBrowser?b.last().one(e.private.animationend,function(){d.addItemsFinish(b,c)}):d.addItemsFinish(b,c),d.loadImages(b,function(){d.$obj.addClass("cbp-addItems"),d.storeData(b,d.blocks.length),a.merge(d.blocks,b),d.triggerEvent("addItemsToDOM",b),d.layoutAndAdjustment(),d.elems&&e.public.showCounter.call(d.obj,d.elems),d.triggerEvent("appendItemsFinish")})},addItemsFinish:function(b,c){var d=this;d.isAnimating=!1,d.$obj.removeClass("cbp-addItems"),b.removeClass("cbp-item-loading"),a.isFunction(c)&&c.call(d,b)}}),a.fn.cubeportfolio=function(a,b,c){return this.each(function(){if("object"==typeof a||!a)return e.public.init.call(this,a,b);if(e.public[a])return e.public[a].call(this,b,c);throw new Error("Method "+a+" does not exist on jquery.cubeportfolio.js")})},e.plugins={},a.fn.cubeportfolio.constructor=e}(jQuery,window,document),function(a,b,c,d){"use strict";var e=a.fn.cubeportfolio.constructor;a.extend(e.prototype,{mosaicLayoutReset:function(){var b=this;b.blocksAreSorted=!1,b.blocksOn.each(function(b,c){a(c).data("cbp").pack=!1})},mosaicLayout:function(){var c,a=this,b=a.blocksOn.length,d={};for(a.freeSpaces=[{leftStart:0,leftEnd:a.widthAvailable,topStart:0,topEnd:Math.pow(2,18)}],c=0;c<b;c++){if(d=a.getSpaceIndexAndBlock(),null===d)return a.sortBlocksToPreventGaps(),void a.mosaicLayout();a.generateF1F2(d.spaceIndex,d.dataBlock),a.generateG1G2G3G4(d.dataBlock),a.cleanFreeSpaces(),a.addHeightToBlocks()}a.blocksAreSorted&&a.sortBlocks(a.blocksOn,"topNew")},getSpaceIndexAndBlock:function(){var b=this,c=null;return a.each(b.freeSpaces,function(d,e){var f=e.leftEnd-e.leftStart,g=e.topEnd-e.topStart;return b.blocksOn.each(function(b,h){var i=a(h).data("cbp");if(i.pack!==!0)return i.widthAndGap<=f&&i.heightAndGap<=g?(i.pack=!0,c={spaceIndex:d,dataBlock:i},i.leftNew=e.leftStart,i.topNew=e.topStart,!1):void 0}),!b.blocksAreSorted&&b.options.sortToPreventGaps&&d>0?(c=null,!1):null===c&&void 0}),c},generateF1F2:function(a,b){var c=this,d=c.freeSpaces[a],e={leftStart:d.leftStart+b.widthAndGap,leftEnd:d.leftEnd,topStart:d.topStart,topEnd:d.topEnd},f={leftStart:d.leftStart,leftEnd:d.leftEnd,topStart:d.topStart+b.heightAndGap,topEnd:d.topEnd};c.freeSpaces.splice(a,1),e.leftEnd>e.leftStart&&e.topEnd>e.topStart&&(c.freeSpaces.splice(a,0,e),a++),f.leftEnd>f.leftStart&&f.topEnd>f.topStart&&c.freeSpaces.splice(a,0,f)},generateG1G2G3G4:function(b){var c=this,d=[];a.each(c.freeSpaces,function(a,e){var f=c.intersectSpaces(e,b);return null===f?void d.push(e):(c.generateG1(e,f,d),c.generateG2(e,f,d),c.generateG3(e,f,d),void c.generateG4(e,f,d))}),c.freeSpaces=d},intersectSpaces:function(a,b){var d={leftStart:b.leftNew,leftEnd:b.leftNew+b.widthAndGap,topStart:b.topNew,topEnd:b.topNew+b.heightAndGap};if(a.leftStart===d.leftStart&&a.leftEnd===d.leftEnd&&a.topStart===d.topStart&&a.topEnd===d.topEnd)return null;var e=Math.max(a.leftStart,d.leftStart),f=Math.min(a.leftEnd,d.leftEnd),g=Math.max(a.topStart,d.topStart),h=Math.min(a.topEnd,d.topEnd);return f<=e||h<=g?null:{leftStart:e,leftEnd:f,topStart:g,topEnd:h}},generateG1:function(a,b,c){a.topStart!==b.topStart&&c.push({leftStart:a.leftStart,leftEnd:a.leftEnd,topStart:a.topStart,topEnd:b.topStart})},generateG2:function(a,b,c){a.leftEnd!==b.leftEnd&&c.push({leftStart:b.leftEnd,leftEnd:a.leftEnd,topStart:a.topStart,topEnd:a.topEnd})},generateG3:function(a,b,c){a.topEnd!==b.topEnd&&c.push({leftStart:a.leftStart,leftEnd:a.leftEnd,topStart:b.topEnd,topEnd:a.topEnd})},generateG4:function(a,b,c){a.leftStart!==b.leftStart&&c.push({leftStart:a.leftStart,leftEnd:b.leftStart,topStart:a.topStart,topEnd:a.topEnd})},cleanFreeSpaces:function(){var a=this;a.freeSpaces.sort(function(a,b){return a.topStart>b.topStart?1:a.topStart<b.topStart?-1:a.leftStart>b.leftStart?1:a.leftStart<b.leftStart?-1:0}),a.correctSubPixelValues(),a.removeNonMaximalFreeSpaces()},correctSubPixelValues:function(){var b,c,e,f,a=this;for(b=0,c=a.freeSpaces.length-1;b<c;b++)e=a.freeSpaces[b],f=a.freeSpaces[b+1],f.topStart-e.topStart<=1&&(f.topStart=e.topStart)},removeNonMaximalFreeSpaces:function(){var b=this;b.uniqueFreeSpaces(),b.freeSpaces=a.map(b.freeSpaces,function(c,d){return a.each(b.freeSpaces,function(a,b){if(d!==a)return b.leftStart<=c.leftStart&&b.leftEnd>=c.leftEnd&&b.topStart<=c.topStart&&b.topEnd>=c.topEnd?(c=null,!1):void 0}),c})},uniqueFreeSpaces:function(){var b=this,c=[];a.each(b.freeSpaces,function(b,d){a.each(c,function(a,b){if(b.leftStart===d.leftStart&&b.leftEnd===d.leftEnd&&b.topStart===d.topStart&&b.topEnd===d.topEnd)return d=null,!1}),null!==d&&c.push(d)}),b.freeSpaces=c},addHeightToBlocks:function(){var b=this;if(!(b.freeSpaces.length>1)){var c=b.freeSpaces[0].topStart;b.blocksOn.each(function(b,d){var e=a(d).data("cbp");if(e.pack===!0){var f=c-e.topNew-e.heightAndGap;f<0&&(d.style.height=e.height+f+"px")}})}},sortBlocksToPreventGaps:function(){var b=this;b.blocksAreSorted=!0,b.blocksOn.sort(function(b,c){var d=a(b).data("cbp"),e=a(c).data("cbp");return d.widthAndGap<e.widthAndGap?1:d.widthAndGap>e.widthAndGap?-1:d.heightAndGap<e.heightAndGap?1:d.heightAndGap>e.heightAndGap?-1:d.index>e.index?1:d.index<e.index?-1:void 0}),b.blocksOn.each(function(b,c){a(c).data("cbp").pack=!1,c.style.height=""})},sortBlocks:function(b,c){b.sort(function(b,d){var e=a(b).data("cbp"),f=a(d).data("cbp");return e[c]>f[c]?1:e[c]<f[c]?-1:e.leftNew>f.leftNew?1:e.leftNew<f.leftNew?-1:0})}})}(jQuery,window,document),jQuery.fn.cubeportfolio.options={filters:"",loadMore:"",loadMoreAction:"click",search:"",layoutMode:"grid",sortToPreventGaps:!1,drag:!0,auto:!1,autoTimeout:5e3,autoPauseOnHover:!0,showNavigation:!0,showPagination:!0,rewindNav:!0,scrollByPage:!1,defaultFilter:"*",filterDeeplinking:!1,animationType:"fadeOut",gridAdjustment:"responsive",mediaQueries:!1,gapHorizontal:10,gapVertical:10,caption:"pushTop",displayType:"fadeIn",displayTypeSpeed:400,lightboxDelegate:".cbp-lightbox",lightboxGallery:!0,lightboxTitleSrc:"data-title",lightboxCounter:'<div class="cbp-popup-lightbox-counter">{{current}} of {{total}}</div>',singlePageDelegate:".cbp-singlePage",singlePageDeeplinking:!0,singlePageStickyNavigation:!0,singlePageCounter:'<div class="cbp-popup-singlePage-counter">{{current}} of {{total}}</div>',singlePageAnimation:"left",singlePageCallback:function(a,b){},singlePageInlineDelegate:".cbp-singlePageInline",singlePageInlineDeeplinking:!1,singlePageInlinePosition:"top",singlePageInlineInFocus:!0,singlePageInlineCallback:function(a,b){},plugins:{}},function(a,b,c,d){"use strict";var e=a.fn.cubeportfolio.constructor;e.private={resizeEventArray:[],initResizeEvent:function(a){var b=e.private;0===b.resizeEventArray.length&&b.resizeEvent(),b.resizeEventArray.push(a)},destroyResizeEvent:function(c){var d=e.private,f=a.map(d.resizeEventArray,function(a,b){if(a.instance!==c)return a});d.resizeEventArray=f,0===d.resizeEventArray.length&&a(b).off("resize.cbp")},resizeEvent:function(){var d,c=e.private;a(b).on("resize.cbp",function(){clearTimeout(d),d=setTimeout(function(){b.innerHeight!=screen.height&&a.each(c.resizeEventArray,function(a,b){b.fn.call(b.instance)})},50)})},checkInstance:function(b){var c=a.data(this,"cubeportfolio");if(!c)throw new Error("cubeportfolio is not initialized. Initialize it before calling "+b+" method!");return c.triggerEvent("publicMethod"),c},browserInfo:function(){var f,g,h,a=e.private,c=navigator.appVersion;c.indexOf("MSIE 8.")!==-1?a.browser="ie8":c.indexOf("MSIE 9.")!==-1?a.browser="ie9":c.indexOf("MSIE 10.")!==-1?a.browser="ie10":b.ActiveXObject||"ActiveXObject"in b?a.browser="ie11":/android/gi.test(c)?a.browser="android":/iphone|ipad|ipod/gi.test(c)?a.browser="ios":/chrome/gi.test(c)?a.browser="chrome":a.browser="",h=a.styleSupport("perspective"),typeof h!==d&&(f=a.styleSupport("transition"),a.transitionend={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[f],g=a.styleSupport("animation"),a.animationend={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"}[g],a.animationDuration={WebkitAnimation:"webkitAnimationDuration",animation:"animationDuration"}[g],a.animationDelay={WebkitAnimation:"webkitAnimationDelay",animation:"animationDelay"}[g],a.transform=a.styleSupport("transform"),f&&g&&a.transform&&(a.modernBrowser=!0))},styleSupport:function(a){var b,d="Webkit"+a.charAt(0).toUpperCase()+a.slice(1),e=c.createElement("div");return a in e.style?b=a:d in e.style&&(b=d),e=null,b}},e.private.browserInfo()}(jQuery,window,document),function(a,b,c,d){"use strict";var e=a.fn.cubeportfolio.constructor;e.public={init:function(a,b){new e(this,a,b)},destroy:function(b){var c=e.private.checkInstance.call(this,"destroy");c.triggerEvent("beforeDestroy"),a.removeData(this,"cubeportfolio"),c.blocks.removeData("cbp"),c.$obj.removeClass("cbp-ready").removeAttr("style"),c.$ul.removeClass("cbp-wrapper"),e.private.destroyResizeEvent(c),c.$obj.off(".cbp"),c.blocks.removeClass("cbp-item-off").removeAttr("style"),c.blocks.find(".cbp-item-wrapper").children().unwrap(),c.options.caption&&c.$obj.removeClass("cbp-caption-active cbp-caption-"+c.options.caption),c.destroySlider(),c.$ul.unwrap(),c.addedWrapp&&c.blocks.unwrap(),a.each(c.plugins,function(a,b){"function"==typeof b.destroy&&b.destroy()}),a.isFunction(b)&&b.call(c),c.triggerEvent("afterDestroy")},filter:function(b,c){var g,f=e.private.checkInstance.call(this,"filter");if(!f.isAnimating){if(f.isAnimating=!0,a.isFunction(c)&&f.registerEvent("filterFinish",c,!0),a.isFunction(b)){if(g=b.call(f,f.blocks),g===d)throw new Error("When you call cubeportfolio API `filter` method with a param of type function you must return the blocks that will be visible.")}else{if(f.options.filterDeeplinking){var h=location.href.replace(/#cbpf=(.*?)([#\?&]|$)/gi,"");location.href=h+"#cbpf="+encodeURIComponent(b),f.singlePage&&f.singlePage.url&&(f.singlePage.url=location.href)}f.defaultFilter=b,g=f.filterConcat(f.defaultFilter)}f.singlePageInline&&f.singlePageInline.isOpen?f.singlePageInline.close("promise",{callback:function(){f.computeFilter(g)}}):f.computeFilter(g)}},showCounter:function(b,c){var d=e.private.checkInstance.call(this,"showCounter");a.isFunction(c)&&d.registerEvent("showCounterFinish",c,!0),d.elems=b,b.each(function(){var b=a(this),c=d.blocks.filter(b.data("filter")).length;b.find(".cbp-filter-counter").text(c)}),d.triggerEvent("showCounterFinish",b)},appendItems:function(b,c){var d=e.private.checkInstance.call(this,"appendItems"),f=a(b).filter(".cbp-item");return d.isAnimating||f.length<1?void(a.isFunction(c)&&c.call(d,f)):(d.isAnimating=!0,void(d.singlePageInline&&d.singlePageInline.isOpen?d.singlePageInline.close("promise",{callback:function(){d.addItems(f,c)}}):d.addItems(f,c)))}}}(jQuery,window,document),function(a,b,c,d){"use strict";var e=a.fn.cubeportfolio.constructor;a.extend(e.prototype,{updateSliderPagination:function(){var c,d,b=this;if(b.options.showPagination){for(c=Math.ceil(b.blocksOn.length/b.cols),b.navPagination.empty(),d=c-1;d>=0;d--)a("<div/>",{class:"cbp-nav-pagination-item","data-slider-action":"jumpTo"}).appendTo(b.navPagination);b.navPaginationItems=b.navPagination.children()}b.enableDisableNavSlider()},destroySlider:function(){var b=this;"slider"===b.options.layoutMode&&(b.$obj.removeClass("cbp-mode-slider"),b.$ul.removeAttr("style"),b.$ul.off(".cbp"),a(c).off(".cbp"),b.options.auto&&b.stopSliderAuto())},nextSlider:function(a){var b=this;if(b.isEndSlider()){if(!b.isRewindNav())return;b.sliderActive=0}else b.options.scrollByPage?b.sliderActive=Math.min(b.sliderActive+b.cols,b.blocksOn.length-b.cols):b.sliderActive+=1;b.goToSlider()},prevSlider:function(a){var b=this;if(b.isStartSlider()){if(!b.isRewindNav())return;b.sliderActive=b.blocksOn.length-b.cols}else b.options.scrollByPage?b.sliderActive=Math.max(0,b.sliderActive-b.cols):b.sliderActive-=1;b.goToSlider()},jumpToSlider:function(a){var b=this,c=Math.min(a.index()*b.cols,b.blocksOn.length-b.cols);c!==b.sliderActive&&(b.sliderActive=c,b.goToSlider())},jumpDragToSlider:function(a){var c,d,f,b=this,g=a>0;b.options.scrollByPage?(c=b.cols*b.columnWidth,d=b.cols):(c=b.columnWidth,d=1),a=Math.abs(a),f=Math.floor(a/c)*d,a%c>20&&(f+=d),g?b.sliderActive=Math.min(b.sliderActive+f,b.blocksOn.length-b.cols):b.sliderActive=Math.max(0,b.sliderActive-f),b.goToSlider()},isStartSlider:function(){return 0===this.sliderActive},isEndSlider:function(){var a=this;return a.sliderActive+a.cols>a.blocksOn.length-1},goToSlider:function(){var a=this;a.enableDisableNavSlider(),a.updateSliderPosition()},startSliderAuto:function(){var a=this;return a.isDrag?void a.stopSliderAuto():void(a.timeout=setTimeout(function(){a.nextSlider(),a.startSliderAuto()},a.options.autoTimeout))},stopSliderAuto:function(){clearTimeout(this.timeout)},enableDisableNavSlider:function(){var b,c,a=this;a.isRewindNav()||(c=a.isStartSlider()?"addClass":"removeClass",a.navPrev[c]("cbp-nav-stop"),c=a.isEndSlider()?"addClass":"removeClass",a.navNext[c]("cbp-nav-stop")),a.options.showPagination&&(b=a.options.scrollByPage?Math.ceil(a.sliderActive/a.cols):a.isEndSlider()?a.navPaginationItems.length-1:Math.floor(a.sliderActive/a.cols),a.navPaginationItems.removeClass("cbp-nav-pagination-active").eq(b).addClass("cbp-nav-pagination-active")),a.customPagination&&(b=a.options.scrollByPage?Math.ceil(a.sliderActive/a.cols):a.isEndSlider()?a.customPaginationItems.length-1:Math.floor(a.sliderActive/a.cols),a.customPaginationItems.removeClass(a.customPaginationClass).eq(b).addClass(a.customPaginationClass))},isRewindNav:function(){var a=this;return!a.options.showNavigation||!(a.blocksOn.length<=a.cols)&&!!a.options.rewindNav},sliderItemsLength:function(){return this.blocksOn.length<=this.cols},sliderLayout:function(){var b=this;b.blocksOn.each(function(c,d){var e=a(d).data("cbp");e.leftNew=b.columnWidth*c,e.topNew=0,b.sliderFreeSpaces.push({topStart:e.heightAndGap})}),b.getFreeSpacesForSlider(),b.$ul.width(b.columnWidth*b.blocksOn.length-b.options.gapVertical)},getFreeSpacesForSlider:function(){var a=this;a.freeSpaces=a.sliderFreeSpaces.slice(a.sliderActive,a.sliderActive+a.cols),a.freeSpaces.sort(function(a,b){return a.topStart>b.topStart?1:a.topStart<b.topStart?-1:void 0})},updateSliderPosition:function(){var a=this,b=-a.sliderActive*a.columnWidth;e.private.modernBrowser?a.$ul[0].style[e.private.transform]="translate3d("+b+"px, 0px, 0)":a.$ul[0].style.left=b+"px",a.getFreeSpacesForSlider(),a.resizeMainContainer()},dragSlider:function(){function r(b){if(!f.sliderItemsLength()){if(o?p=b:b.preventDefault(),f.options.auto&&f.stopSliderAuto(),m)return void a(j).one("click.cbp",function(){return!1});j=a(b.target),h=v(b).x,i=0,k=-f.sliderActive*f.columnWidth,l=f.columnWidth*(f.blocksOn.length-f.cols),g.on(n.move,t),g.on(n.end,s),f.$obj.addClass("cbp-mode-slider-dragStart")}}function s(a){f.$obj.removeClass("cbp-mode-slider-dragStart"),m=!0,0!==i?(j.one("click.cbp",function(a){return!1}),requestAnimationFrame(function(){f.jumpDragToSlider(i),f.$ul.one(e.private.transitionend,u)})):u.call(f),g.off(n.move),g.off(n.end)}function t(a){i=h-v(a).x,(i>8||i<-8)&&a.preventDefault(),f.isDrag=!0;var b=k-i;i<0&&i<k?b=(k-i)/5:i>0&&k-i<-l&&(b=-l+(l+k-i)/5),e.private.modernBrowser?f.$ul[0].style[e.private.transform]="translate3d("+b+"px, 0px, 0)":f.$ul[0].style.left=b+"px"}function u(){if(m=!1,f.isDrag=!1,f.options.auto){if(f.mouseIsEntered)return;f.startSliderAuto()}}function v(a){return a.originalEvent!==d&&a.originalEvent.touches!==d&&(a=a.originalEvent.touches[0]),{x:a.pageX,y:a.pageY}}var h,i,j,k,l,p,f=this,g=a(c),m=!1,n={},o=!1;f.isDrag=!1,"ontouchstart"in b||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?(n={start:"touchstart.cbp",move:"touchmove.cbp",end:"touchend.cbp"},o=!0):n={start:"mousedown.cbp",move:"mousemove.cbp",end:"mouseup.cbp"},f.$ul.on(n.start,r)},sliderLayoutReset:function(){var a=this;a.freeSpaces=[],a.sliderFreeSpaces=[]}})}(jQuery,window,document),"function"!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b}),function(){for(var a=0,b=["moz","webkit"],c=0;c<b.length&&!window.requestAnimationFrame;c++)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),function(a,b,c,d){"use strict";function f(a){var b=this;b.parent=a,a.filterLayout=b.filterLayout,a.registerEvent("computeBlocksFinish",function(b){a.blocksOn2On=a.blocksOnInitial.filter(b),a.blocksOn2Off=a.blocksOnInitial.not(b)})}var e=a.fn.cubeportfolio.constructor;f.prototype.filterLayout=function(){function c(){b.blocks.removeClass("cbp-item-on2off cbp-item-off2on cbp-item-on2on").each(function(b,c){var d=a(c).data("cbp");d.left=d.leftNew,d.top=d.topNew,c.style.left=d.left+"px",c.style.top=d.top+"px",c.style[e.private.transform]=""}),b.blocksOff.addClass("cbp-item-off"),b.$obj.removeClass("cbp-animation-"+b.options.animationType),b.filterFinish()}var b=this;b.$obj.addClass("cbp-animation-"+b.options.animationType),b.blocksOn2On.addClass("cbp-item-on2on").each(function(b,c){var d=a(c).data("cbp");c.style[e.private.transform]="translate3d("+(d.leftNew-d.left)+"px, "+(d.topNew-d.top)+"px, 0)"}),b.blocksOn2Off.addClass("cbp-item-on2off"),b.blocksOff2On=b.blocksOn.filter(".cbp-item-off").removeClass("cbp-item-off").addClass("cbp-item-off2on").each(function(b,c){var d=a(c).data("cbp");c.style.left=d.leftNew+"px",c.style.top=d.topNew+"px"}),b.blocksOn2Off.length?b.blocksOn2Off.last().data("cbp").wrapper.one(e.private.animationend,c):b.blocksOff2On.length?b.blocksOff2On.last().data("cbp").wrapper.one(e.private.animationend,c):c(),b.resizeMainContainer()},f.prototype.destroy=function(){var a=this.parent;a.$obj.removeClass("cbp-animation-"+a.options.animationType)},e.plugins.animationClassic=function(b){return!e.private.modernBrowser||a.inArray(b.options.animationType,["boxShadow","fadeOut","flipBottom","flipOut","quicksand","scaleSides","skew"])<0?null:new f(b)}}(jQuery,window,document),function(a,b,c,d){"use strict";function f(a){var b=this;b.parent=a,a.filterLayout=b.filterLayout}var e=a.fn.cubeportfolio.constructor;f.prototype.filterLayout=function(){function d(){b.wrapper[0].removeChild(c),"sequentially"===b.options.animationType&&b.blocksOn.each(function(b,c){a(c).data("cbp").wrapper[0].style[e.private.animationDelay]=""}),b.$obj.removeClass("cbp-animation-"+b.options.animationType),b.filterFinish()}var b=this,c=b.$ul[0].cloneNode(!0);c.setAttribute("class","cbp-wrapper-helper"),b.wrapper[0].insertBefore(c,b.$ul[0]),requestAnimationFrame(function(){b.$obj.addClass("cbp-animation-"+b.options.animationType),b.blocksOff.addClass("cbp-item-off"),b.blocksOn.removeClass("cbp-item-off").each(function(c,d){var f=a(d).data("cbp");f.left=f.leftNew,f.top=f.topNew,d.style.left=f.left+"px",d.style.top=f.top+"px","sequentially"===b.options.animationType&&(f.wrapper[0].style[e.private.animationDelay]=60*c+"ms")}),b.blocksOn.length?b.blocksOn.last().data("cbp").wrapper.one(e.private.animationend,d):b.blocksOnInitial.length?b.blocksOnInitial.last().data("cbp").wrapper.one(e.private.animationend,d):d(),b.resizeMainContainer()})},f.prototype.destroy=function(){var a=this.parent;a.$obj.removeClass("cbp-animation-"+a.options.animationType)},e.plugins.animationClone=function(b){return!e.private.modernBrowser||a.inArray(b.options.animationType,["fadeOutTop","slideLeft","sequentially"])<0?null:new f(b)}}(jQuery,window,document),function(a,b,c,d){"use strict";function f(a){var b=this;b.parent=a,a.filterLayout=b.filterLayout}var e=a.fn.cubeportfolio.constructor;f.prototype.filterLayout=function(){function f(){b.wrapper[0].removeChild(c[0]),b.$obj.removeClass("cbp-animation-"+b.options.animationType),b.blocks.each(function(b,c){a(c).data("cbp").wrapper[0].style[e.private.animationDelay]=""}),b.filterFinish()}var b=this,c=b.$ul.clone(!0,!0);c[0].setAttribute("class","cbp-wrapper-helper"),b.wrapper[0].insertBefore(c[0],b.$ul[0]);var d=c.find(".cbp-item").not(".cbp-item-off");b.sortBlocks(d,"top"),d.children(".cbp-item-wrapper").each(function(a,b){b.style[e.private.animationDelay]=50*a+"ms"}),requestAnimationFrame(function(){b.$obj.addClass("cbp-animation-"+b.options.animationType),b.blocksOff.addClass("cbp-item-off"),b.blocksOn.removeClass("cbp-item-off").each(function(b,c){var d=a(c).data("cbp");d.left=d.leftNew,d.top=d.topNew,c.style.left=d.left+"px",c.style.top=d.top+"px",d.wrapper[0].style[e.private.animationDelay]=50*b+"ms"});var c=b.blocksOn.length,g=d.length;0===c&&0===g?f():c<g?d.last().children(".cbp-item-wrapper").one(e.private.animationend,f):b.blocksOn.last().data("cbp").wrapper.one(e.private.animationend,f),b.resizeMainContainer()})},f.prototype.destroy=function(){var a=this.parent;a.$obj.removeClass("cbp-animation-"+a.options.animationType)},e.plugins.animationCloneDelay=function(b){return!e.private.modernBrowser||a.inArray(b.options.animationType,["3dflip","flipOutDelay","foldLeft","frontRow","rotateRoom","rotateSides","scaleDown","slideDelay","unfold"])<0?null:new f(b)}}(jQuery,window,document),function(a,b,c,d){"use strict";function f(a){var b=this;b.parent=a,a.filterLayout=b.filterLayout}var e=a.fn.cubeportfolio.constructor;f.prototype.filterLayout=function(){function d(){b.wrapper[0].removeChild(c),b.$obj.removeClass("cbp-animation-"+b.options.animationType),b.filterFinish()}var b=this,c=b.$ul[0].cloneNode(!0);c.setAttribute("class","cbp-wrapper-helper"),b.wrapper[0].insertBefore(c,b.$ul[0]),requestAnimationFrame(function(){b.$obj.addClass("cbp-animation-"+b.options.animationType),b.blocksOff.addClass("cbp-item-off"),b.blocksOn.removeClass("cbp-item-off").each(function(b,c){var d=a(c).data("cbp");d.left=d.leftNew,d.top=d.topNew,c.style.left=d.left+"px",c.style.top=d.top+"px"}),b.blocksOn.length?b.$ul.one(e.private.animationend,d):b.blocksOnInitial.length?a(c).one(e.private.animationend,d):d(),b.resizeMainContainer()})},f.prototype.destroy=function(){var a=this.parent;a.$obj.removeClass("cbp-animation-"+a.options.animationType)},e.plugins.animationWrapper=function(b){return!e.private.modernBrowser||a.inArray(b.options.animationType,["bounceBottom","bounceLeft","bounceTop","moveLeft"])<0?null:new f(b)}}(jQuery,window,document),function(a,b,c,d){"use strict";function f(b){var c=this;c.parent=b,b.registerEvent("initFinish",function(){b.$obj.on("click.cbp",".cbp-caption-defaultWrap",function(c){if(c.preventDefault(),!b.isAnimating){b.isAnimating=!0;var d=a(this),e=d.next(),f=d.parent(),g={position:"relative",height:e.outerHeight(!0)},h={position:"relative",height:0};if(b.$obj.addClass("cbp-caption-expand-active"),f.hasClass("cbp-caption-expand-open")){var i=h;h=g,g=i,f.removeClass("cbp-caption-expand-open")}e.css(g),b.$obj.one("pluginResize.cbp",function(){b.isAnimating=!1,b.$obj.removeClass("cbp-caption-expand-active"),0===g.height&&(f.removeClass("cbp-caption-expand-open"),e.attr("style",""))}),b.layoutAndAdjustment(),e.css(h),requestAnimationFrame(function(){f.addClass("cbp-caption-expand-open"),e.css(g),b.triggerEvent("gridAdjust"),b.triggerEvent("resizeGrid")})}})},!0)}var e=a.fn.cubeportfolio.constructor;f.prototype.destroy=function(){this.parent.$obj.find(".cbp-caption-defaultWrap").off("click.cbp").parent().removeClass("cbp-caption-expand-active")},e.plugins.captionExpand=function(a){return"expand"!==a.options.caption?null:new f(a);
}}(jQuery,window,document),function(a,b,c,d){"use strict";function f(b){var c=a.Deferred();b.pushQueue("delayFrame",c),b.registerEvent("initEndWrite",function(){b.blocksOn.each(function(a,c){c.style[e.private.animationDelay]=a*b.options.displayTypeSpeed+"ms"}),b.$obj.addClass("cbp-displayType-bottomToTop"),b.blocksOn.last().one(e.private.animationend,function(){b.$obj.removeClass("cbp-displayType-bottomToTop"),b.blocksOn.each(function(a,b){b.style[e.private.animationDelay]=""}),c.resolve()})},!0)}var e=a.fn.cubeportfolio.constructor;e.plugins.displayBottomToTop=function(a){return e.private.modernBrowser&&"bottomToTop"===a.options.displayType&&0!==a.blocksOn.length?new f(a):null}}(jQuery,window,document),function(a,b,c,d){"use strict";function f(b){var c=a.Deferred();b.pushQueue("delayFrame",c),b.registerEvent("initEndWrite",function(){b.obj.style[e.private.animationDuration]=b.options.displayTypeSpeed+"ms",b.$obj.addClass("cbp-displayType-fadeIn"),b.$obj.one(e.private.animationend,function(){b.$obj.removeClass("cbp-displayType-fadeIn"),b.obj.style[e.private.animationDuration]="",c.resolve()})},!0)}var e=a.fn.cubeportfolio.constructor;e.plugins.displayFadeIn=function(a){return!e.private.modernBrowser||"lazyLoading"!==a.options.displayType&&"fadeIn"!==a.options.displayType||0===a.blocksOn.length?null:new f(a)}}(jQuery,window,document),function(a,b,c,d){"use strict";function f(b){var c=a.Deferred();b.pushQueue("delayFrame",c),b.registerEvent("initEndWrite",function(){b.obj.style[e.private.animationDuration]=b.options.displayTypeSpeed+"ms",b.$obj.addClass("cbp-displayType-fadeInToTop"),b.$obj.one(e.private.animationend,function(){b.$obj.removeClass("cbp-displayType-fadeInToTop"),b.obj.style[e.private.animationDuration]="",c.resolve()})},!0)}var e=a.fn.cubeportfolio.constructor;e.plugins.displayFadeInToTop=function(a){return e.private.modernBrowser&&"fadeInToTop"===a.options.displayType&&0!==a.blocksOn.length?new f(a):null}}(jQuery,window,document),function(a,b,c,d){"use strict";function f(b){var c=a.Deferred();b.pushQueue("delayFrame",c),b.registerEvent("initEndWrite",function(){b.blocksOn.each(function(a,c){c.style[e.private.animationDelay]=a*b.options.displayTypeSpeed+"ms"}),b.$obj.addClass("cbp-displayType-sequentially"),b.blocksOn.last().one(e.private.animationend,function(){b.$obj.removeClass("cbp-displayType-sequentially"),b.blocksOn.each(function(a,b){b.style[e.private.animationDelay]=""}),c.resolve()})},!0)}var e=a.fn.cubeportfolio.constructor;e.plugins.displaySequentially=function(a){return e.private.modernBrowser&&"sequentially"===a.options.displayType&&0!==a.blocksOn.length?new f(a):null}}(jQuery,window,document),function(a,b,c,d){"use strict";function f(b){var c=this;c.parent=b,c.filters=a(b.options.filters),c.filterData=[],b.registerEvent("afterPlugins",function(a){c.filterFromUrl(),c.registerFilter()})}var e=a.fn.cubeportfolio.constructor;f.prototype.registerFilter=function(){var b=this,c=b.parent,e=c.defaultFilter.split("|");b.wrap=b.filters.find(".cbp-l-filters-dropdownWrap").on({"mouseover.cbp":function(){a(this).addClass("cbp-l-filters-dropdownWrap-open")},"mouseleave.cbp":function(){a(this).removeClass("cbp-l-filters-dropdownWrap-open")}}),b.filters.each(function(d,f){var g=a(f),h="*",i=g.find(".cbp-filter-item"),j={};g.hasClass("cbp-l-filters-dropdown")&&(j.wrap=g.find(".cbp-l-filters-dropdownWrap"),j.header=g.find(".cbp-l-filters-dropdownHeader"),j.headerText=j.header.text()),c.$obj.cubeportfolio("showCounter",i),a.each(e,function(a,b){if(i.filter('[data-filter="'+b+'"]').length)return h=b,e.splice(a,1),!1}),a.data(f,"filterName",h),b.filterData.push(f),b.filtersCallback(j,i.filter('[data-filter="'+h+'"]')),i.on("click.cbp",function(){var d=a(this);if(!d.hasClass("mobilbtn-active")&&!c.isAnimating){b.filtersCallback(j,d),a.data(f,"filterName",d.data("filter"));var e=a.map(b.filterData,function(b,c){var d=a.data(b,"filterName");return""!==d&&"*"!==d?d:null});e.length<1&&(e=["*"]);var g=e.join("|");c.defaultFilter!==g&&c.$obj.cubeportfolio("filter",g)}})})},f.prototype.filtersCallback=function(b,c){a.isEmptyObject(b)||(b.wrap.trigger("mouseleave.cbp"),b.headerText?b.headerText="":b.header.html(c.html())),c.addClass("mobilbtn-active").siblings().removeClass("mobilbtn-active")},f.prototype.filterFromUrl=function(){var a=/#cbpf=(.*?)([#\?&]|$)/gi.exec(location.href);null!==a&&(this.parent.defaultFilter=decodeURIComponent(a[1]))},f.prototype.destroy=function(){var a=this;a.filters.find(".cbp-filter-item").off(".cbp"),a.wrap.off(".cbp")},e.plugins.filters=function(a){return""===a.options.filters?null:new f(a)}}(jQuery,window,document),function(a,b,c,d){"use strict";function g(b){var c=this;c.parent=b,c.options=a.extend({},e,c.parent.options.plugins.inlineSlider),c.runInit(),b.registerEvent("addItemsToDOM",function(){c.runInit()})}function h(a){var b=this;a.hasClass("cbp-slider-inline-ready")||(a.addClass("cbp-slider-inline-ready"),b.items=a.find(".cbp-slider-wrapper").children(".cbp-slider-item"),b.active=b.items.filter(".cbp-slider-item--active").index(),b.total=b.items.length-1,b.updateLeft(),a.find(".cbp-slider-next").on("click.cbp",function(a){a.preventDefault(),b.active<b.total?(b.active++,b.updateLeft()):b.active===b.total&&(b.active=0,b.updateLeft())}),a.find(".cbp-slider-prev").on("click.cbp",function(a){a.preventDefault(),b.active>0?(b.active--,b.updateLeft()):0===b.active&&(b.active=b.total,b.updateLeft())}))}var e={},f=a.fn.cubeportfolio.constructor;h.prototype.updateLeft=function(){var a=this;a.items.removeClass("cbp-slider-item--active"),a.items.eq(a.active).addClass("cbp-slider-item--active"),a.items.each(function(b,c){c.style.left=b-a.active+"00%"})},g.prototype.runInit=function(){var b=this;b.parent.$obj.find(".cbp-slider-inline").not(".cbp-slider-inline-ready").each(function(c,d){var e=a(d),f=e.find(".cbp-slider-item--active").find("img")[0];f.hasAttribute("data-cbp-src")?b.parent.$obj.on("lazyLoad.cbp",function(a,b){b.src===f.src&&new h(e)}):new h(e)})},g.prototype.destroy=function(){var b=this;b.parent.$obj.find(".cbp-slider-next").off("click.cbp"),b.parent.$obj.find(".cbp-slider-prev").off("click.cbp"),b.parent.$obj.off("lazyLoad.cbp"),b.parent.$obj.find(".cbp-slider-inline").each(function(b,c){var d=a(c);d.removeClass("cbp-slider-inline-ready");var e=d.find(".cbp-slider-item");e.removeClass("cbp-slider-item--active"),e.removeAttr("style"),e.eq(0).addClass("cbp-slider-item--active")})},f.plugins.inlineSlider=function(a){return new g(a)}}(jQuery,window,document),function(a,b,c,d){"use strict";function g(c){var d=this;d.window=a(b),d.parent=c,d.options=a.extend({},e,d.parent.options.plugins.lazyLoad),c.registerEvent("initEndWrite",function(){var a;d.triggerImg(),c.registerEvent("resizeMainContainer",function(){d.triggerImg()}),d.window.on("scroll.cbp",function(){clearTimeout(a),a=setTimeout(function(){d.triggerImg()},300)})},!0)}var e={loadingClass:"cbp-lazyload",threshold:0},f=a.fn.cubeportfolio.constructor;g.prototype.triggerImg=function(){var b=this,c=b.parent.$obj.find("img").filter("[data-cbp-src]");0!==c.length&&(b.screenHeight=b.window.height(),c.each(function(c,d){var e=a(d.parentNode);if(!b.isElementInScreen(d))return void e.addClass(b.options.loadingClass);var f=d.getAttribute("data-cbp-src");null===b.parent.checkSrc(f)?(b.removeLazy(d,f),e.removeClass(b.options.loadingClass)):(e.addClass(b.options.loadingClass),a("<img>").on("load.cbp error.cbp",function(){b.removeLazy(d,f,e)}).attr("src",f))}))},g.prototype.removeLazy=function(b,c,d){var e=this;b.src=c,b.removeAttribute("data-cbp-src"),e.parent.removeAttrImage(b),e.parent.$obj.trigger("lazyLoad.cbp",b),d&&(f.private.modernBrowser?a(b).one(f.private.transitionend,function(){d.removeClass(e.options.loadingClass)}):d.removeClass(e.options.loadingClass))},g.prototype.isElementInScreen=function(a){var b=this,c=a.getBoundingClientRect(),d=c.bottom+b.options.threshold,e=b.screenHeight+d-(c.top-b.options.threshold);return d>=0&&d<=e},g.prototype.destroy=function(){var a=this;a.window.off("scroll.cbp")},f.plugins.lazyLoad=function(a){return new g(a)}}(jQuery,window,document),function(a,b,c,d){"use strict";function f(b){var c=this;c.parent=b,c.loadMore=a(b.options.loadMore).find(".cbp-l-loadMore-link"),c.loadMore.length&&c[b.options.loadMoreAction]()}var e=a.fn.cubeportfolio.constructor;f.prototype.click=function(){var b=this,c=0;b.loadMore.on("click.cbp",function(d){var e=a(this);d.preventDefault(),b.parent.isAnimating||e.hasClass("cbp-l-loadMore-stop")||(e.addClass("cbp-l-loadMore-loading"),c++,a.ajax({url:b.loadMore.attr("href")+"?block="+c,type:"GET",dataType:"HTML"}).done(function(a){var d=a.replace(/(\r\n|\n|\r)/gm,""),f=d.indexOf("cbp-loadMore-block"+c);if(f===-1)return void e.addClass("cbp-l-loadMore-stop");var i,g=d.indexOf(">",f)+1,h=d.indexOf("cbp-loadMore-block"+(c+1));i=h===-1?d.lastIndexOf("</"):d.lastIndexOf("</",h),b.parent.$obj.cubeportfolio("appendItems",d.substring(g,i),function(){e.removeClass("cbp-l-loadMore-loading"),h===-1&&e.addClass("cbp-l-loadMore-stop")})}).fail(function(){}))})},f.prototype.auto=function(){var c=this;c.parent.$obj.on("initComplete.cbp",function(){Object.create({init:function(){var d=this;d.isActive=!1,d.numberOfClicks=0,c.loadMore.addClass("cbp-l-loadMore-loading"),d.window=a(b),d.addEvents(),d.getNewItems()},addEvents:function(){var b,a=this;c.loadMore.on("click.cbp",function(a){a.preventDefault()}),a.window.on("scroll.loadMoreObject",function(){clearTimeout(b),b=setTimeout(function(){c.parent.isAnimating||a.getNewItems()},80)}),c.parent.$obj.on("filterComplete.cbp",function(){a.getNewItems()})},getNewItems:function(){var d,e,b=this;b.isActive||c.loadMore.hasClass("cbp-l-loadMore-stop")||(d=c.loadMore.offset().top-200,e=b.window.scrollTop()+b.window.height(),d>e||(b.isActive=!0,b.numberOfClicks++,a.ajax({url:c.loadMore.attr("href")+"?block="+b.numberOfClicks,type:"GET",dataType:"HTML",cache:!0}).done(function(a){var d=a.replace(/(\r\n|\n|\r)/gm,""),e=d.indexOf("cbp-loadMore-block"+b.numberOfClicks);if(e===-1)return void c.loadMore.addClass("cbp-l-loadMore-stop");var h,f=d.indexOf(">",e)+1,g=d.indexOf("cbp-loadMore-block"+(b.numberOfClicks+1));h=g===-1?d.lastIndexOf("</"):d.lastIndexOf("</",g),c.parent.$obj.cubeportfolio("appendItems",d.substring(f,h),function(){g===-1?(c.loadMore.addClass("cbp-l-loadMore-stop"),b.window.off("scroll.loadMoreObject"),c.parent.$obj.off("filterComplete.cbp")):(b.isActive=!1,b.window.trigger("scroll.loadMoreObject"))})}).fail(function(){b.isActive=!1})))}}).init()})},f.prototype.destroy=function(){var c=this;c.loadMore.off(".cbp"),a(b).off("scroll.loadMoreObject")},e.plugins.loadMore=function(a){return""===a.options.loadMore?null:new f(a)}}(jQuery,window,document),function(a,b,c,d){"use strict";function g(a){var b=this;b.parent=a,a.options.lightboxShowCounter===!1&&(a.options.lightboxCounter=""),a.options.singlePageShowCounter===!1&&(a.options.singlePageCounter=""),a.registerEvent("initStartRead",function(){b.run()},!0)}var e=a.fn.cubeportfolio.constructor,f={init:function(b,d){var f,e=this;if(e.cubeportfolio=b,e.type=d,e.isOpen=!1,e.options=e.cubeportfolio.options,"lightbox"===d&&e.cubeportfolio.registerEvent("resizeWindow",function(){e.resizeImage()}),"singlePageInline"!==d){if(e.createMarkup(),"singlePage"===d&&(e.cubeportfolio.registerEvent("resizeWindow",function(){if(e.options.singlePageStickyNavigation){var a=e.wrap[0].clientWidth;a>0&&(e.navigationWrap.width(a),e.navigation.width(a))}}),e.options.singlePageDeeplinking)){e.url=location.href,"#"===e.url.slice(-1)&&(e.url=e.url.slice(0,-1));var g=e.url.split("#cbp="),h=g.shift();if(a.each(g,function(b,c){if(e.cubeportfolio.blocksOn.each(function(b,d){var g=a(d).find(e.options.singlePageDelegate+'[href="'+c+'"]');if(g.length)return f=g,!1}),f)return!1}),f){e.url=h;var i=f,j=i.attr("data-cbp-singlePage"),k=[];j?k=i.closest(a(".cbp-item")).find('[data-cbp-singlePage="'+j+'"]'):e.cubeportfolio.blocksOn.each(function(b,c){var d=a(c);d.not(".cbp-item-off")&&d.find(e.options.singlePageDelegate).each(function(b,c){a(c).attr("data-cbp-singlePage")||k.push(c)})}),e.openSinglePage(k,f[0])}else if(g.length){var l=c.createElement("a");l.setAttribute("href",g[0]),e.openSinglePage([l],l)}}}else if(e.height=0,e.createMarkupSinglePageInline(),e.cubeportfolio.registerEvent("resizeGrid",function(){e.isOpen&&e.close()}),e.options.singlePageInlineDeeplinking){e.url=location.href,"#"===e.url.slice(-1)&&(e.url=e.url.slice(0,-1));var g=e.url.split("#cbpi="),h=g.shift();a.each(g,function(b,c){if(e.cubeportfolio.blocksOn.each(function(b,d){var g=a(d).find(e.options.singlePageInlineDelegate+'[href="'+c+'"]');if(g.length)return f=g,!1}),f)return!1}),f&&e.cubeportfolio.registerEvent("initFinish",function(){e.openSinglePageInline(e.cubeportfolio.blocksOn,f[0])},!0)}},createMarkup:function(){var b=this,d="";"singlePage"===b.type&&"left"!==b.options.singlePageAnimation&&(d=" cbp-popup-singlePage-"+b.options.singlePageAnimation),b.wrap=a("<div/>",{class:"cbp-popup-wrap cbp-popup-"+b.type+d,"data-action":"lightbox"===b.type?"close":""}).on("click.cbp",function(c){if(!b.stopEvents){var d=a(c.target).attr("data-action");b[d]&&(b[d](),c.preventDefault())}}),b.content=a("<div/>",{class:"cbp-popup-content"}).appendTo(b.wrap),a("<div/>",{class:"cbp-popup-loadingBox"}).appendTo(b.wrap),"ie8"===e.private.browser&&(b.bg=a("<div/>",{class:"cbp-popup-ie8bg","data-action":"lightbox"===b.type?"close":""}).appendTo(b.wrap)),b.navigationWrap=a("<div/>",{class:"cbp-popup-navigation-wrap"}).appendTo(b.wrap),b.navigation=a("<div/>",{class:"cbp-popup-navigation"}).appendTo(b.navigationWrap),b.closeButton=a("<div/>",{class:"cbp-popup-close",title:"Close (Esc arrow key)","data-action":"close"}).appendTo(b.navigation),b.nextButton=a("<div/>",{class:"cbp-popup-next",title:"Next (Right arrow key)","data-action":"next"}).appendTo(b.navigation),b.prevButton=a("<div/>",{class:"cbp-popup-prev",title:"Previous (Left arrow key)","data-action":"prev"}).appendTo(b.navigation),"singlePage"===b.type&&(b.options.singlePageCounter&&(b.counter=a(b.options.singlePageCounter).appendTo(b.navigation),b.counter.text("")),b.content.on("click.cbp",b.options.singlePageDelegate,function(a){a.preventDefault();var c,d=b.dataArray.length,e=this.getAttribute("href");for(c=0;c<d&&b.dataArray[c].url!==e;c++);b.singlePageJumpTo(c-b.current)}),b.wrap.on("mousewheel.cbp DOMMouseScroll.cbp",function(a){a.stopImmediatePropagation()})),a(c).on("keydown.cbp",function(a){b.isOpen&&(b.stopEvents||37===a.keyCode||39===a.keyCode||27===a.keyCode&&b.close())})},createMarkupSinglePageInline:function(){var b=this;b.wrap=a("<div/>",{class:"cbp-popup-singlePageInline"}).on("click.cbp",function(c){if(!b.stopEvents){var d=a(c.target).attr("data-action");d&&b[d]&&(b[d](),c.preventDefault())}}),b.content=a("<div/>",{class:"cbp-popup-content"}).appendTo(b.wrap),b.navigation=a("<div/>",{class:"cbp-popup-navigation"}).appendTo(b.wrap),b.closeButton=a("<div/>",{class:"cbp-popup-close",title:"Close (Esc arrow key)","data-action":"close"}).appendTo(b.navigation)},destroy:function(){var b=this,d=a("body");a(c).off("keydown.cbp"),d.off("click.cbp",b.options.lightboxDelegate),d.off("click.cbp",b.options.singlePageDelegate),b.content.off("click.cbp",b.options.singlePageDelegate),b.cubeportfolio.$obj.off("click.cbp",b.options.singlePageInlineDelegate),b.cubeportfolio.$obj.off("click.cbp",b.options.lightboxDelegate),b.cubeportfolio.$obj.off("click.cbp",b.options.singlePageDelegate),b.cubeportfolio.$obj.removeClass("cbp-popup-isOpening"),b.cubeportfolio.$obj.find(".cbp-item").removeClass("cbp-singlePageInline-active"),b.wrap.remove()},openLightbox:function(d,e){var h,j,f=this,g=0,i=[];if(!f.isOpen){if(f.isOpen=!0,f.stopEvents=!1,f.dataArray=[],f.current=null,h=e.getAttribute("href"),null===h)throw new Error("HEI! Your clicked element doesn't have a href attribute.");a.each(d,function(b,c){var k,d=c.getAttribute("href"),e=d,j="isImage";if(a.inArray(d,i)===-1){if(h===d)f.current=g;else if(!f.options.lightboxGallery)return;/youtube/i.test(d)?(k=d.substring(d.lastIndexOf("v=")+2),/autoplay=/i.test(k)||(k+="&autoplay=1"),k=k.replace(/\?|&/,"?"),e="//www.youtube.com/embed/"+k,j="isYoutube"):/vimeo\.com/i.test(d)?(k=d.substring(d.lastIndexOf("/")+1),/autoplay=/i.test(k)||(k+="&autoplay=1"),k=k.replace(/\?|&/,"?"),e="//player.vimeo.com/video/"+k,j="isVimeo"):/www\.ted\.com/i.test(d)?(e="http://embed.ted.com/talks/"+d.substring(d.lastIndexOf("/")+1)+".html",j="isTed"):/soundcloud\.com/i.test(d)?(e=d,j="isSoundCloud"):/(\.mp4)|(\.ogg)|(\.ogv)|(\.webm)/i.test(d)?(e=d.indexOf("|")!==-1?d.split("|"):d.split("%7C"),j="isSelfHostedVideo"):/\.mp3$/i.test(d)&&(e=d,j="isSelfHostedAudio"),f.dataArray.push({src:e,title:c.getAttribute(f.options.lightboxTitleSrc),type:j}),g++}i.push(d)}),f.counterTotal=f.dataArray.length,1===f.counterTotal?(f.nextButton.hide(),f.prevButton.hide(),f.dataActionImg=""):(f.nextButton.hide(),f.prevButton.hide(),f.dataActionImg='data-action="next"'),f.wrap.appendTo(c.body),f.scrollTop=a(b).scrollTop(),f.originalStyle=a("html").attr("style"),a("html").css({overflow:"hidden",marginRight:b.innerWidth-a(c).width()}),f.wrap.addClass("cbp-popup-transitionend"),f.wrap.show(),j=f.dataArray[f.current],f[j.type](j)}},openSinglePage:function(d,f){var i,g=this,h=0,j=[];if(!g.isOpen){if(g.cubeportfolio.singlePageInline&&g.cubeportfolio.singlePageInline.isOpen&&g.cubeportfolio.singlePageInline.close(),g.isOpen=!0,g.stopEvents=!1,g.dataArray=[],g.current=null,i=f.getAttribute("href"),null===i)throw new Error("HEI! Your clicked element doesn't have a href attribute.");a.each(d,function(b,c){var d=c.getAttribute("href");a.inArray(d,j)===-1&&(i===d&&(g.current=h),g.dataArray.push({url:d,element:c}),h++),j.push(d)}),g.counterTotal=g.dataArray.length,1===g.counterTotal?(g.nextButton.hide(),g.prevButton.hide()):(g.nextButton.hide(),g.prevButton.hide()),g.wrap.appendTo(c.body),g.scrollTop=a(b).scrollTop(),g.wrap.scrollTop(0),g.wrap.show(),g.finishOpen=2,g.navigationMobile=a(),g.wrap.one(e.private.transitionend,function(){a("html").css({overflow:"hidden",marginRight:b.innerWidth-a(c).width()}),g.wrap.addClass("cbp-popup-transitionend"),g.options.singlePageStickyNavigation&&(g.wrap.addClass("cbp-popup-singlePage-sticky"),g.navigationWrap.width(g.wrap[0].clientWidth),"android"!==e.private.browser&&"ios"!==e.private.browser||(g.navigationMobile=a("<div/>",{class:"cbp-popup-singlePage cbp-popup-singlePage-sticky",id:g.wrap.attr("id")}).on("click.cbp",function(b){if(!g.stopEvents){var c=a(b.target).attr("data-action");g[c]&&(g[c](),b.preventDefault())}}),g.navigationMobile.appendTo(c.body).append(g.navigationWrap))),g.finishOpen--,g.finishOpen<=0&&g.updateSinglePageIsOpen.call(g)}),"ie8"!==e.private.browser&&"ie9"!==e.private.browser||(g.options.singlePageStickyNavigation&&(g.navigationWrap.width(g.wrap[0].clientWidth),setTimeout(function(){g.wrap.addClass("cbp-popup-singlePage-sticky")},1e3)),g.finishOpen--),g.wrap.addClass("cbp-popup-loading"),g.wrap.offset(),g.wrap.addClass("cbp-popup-singlePage-open"),g.options.singlePageDeeplinking&&(g.url=g.url.split("#cbp=")[0],location.href=g.url+"#cbp="+g.dataArray[g.current].url),a.isFunction(g.options.singlePageCallback)&&g.options.singlePageCallback.call(g,g.dataArray[g.current].url,g.dataArray[g.current].element)}},openSinglePageInline:function(c,d,e){var h,i,j,k,f=this;if(e=e||!1,f.fromOpen=e,f.storeBlocks=c,f.storeCurrentBlock=d,f.isOpen)return i=a(d).closest(".cbp-item").index(),void(f.dataArray[f.current].url!==d.getAttribute("href")||f.current!==i?f.cubeportfolio.singlePageInline.close("open",{blocks:c,currentBlock:d,fromOpen:!0}):f.close());if(f.isOpen=!0,f.stopEvents=!1,f.dataArray=[],f.current=null,h=d.getAttribute("href"),null===h)throw new Error("HEI! Your clicked element doesn't have a href attribute.");if(j=a(d).closest(".cbp-item")[0],c.each(function(a,b){j===b&&(f.current=a)}),f.dataArray[f.current]={url:h,element:d},k=a(f.dataArray[f.current].element).parents(".cbp-item").addClass("cbp-singlePageInline-active"),f.counterTotal=c.length,f.wrap.insertBefore(f.cubeportfolio.wrapper),"top"===f.options.singlePageInlinePosition)f.blocksToMove=c,f.top=0;else if("bottom"===f.options.singlePageInlinePosition)f.blocksToMove=a(),f.top=f.cubeportfolio.height;else if("above"===f.options.singlePageInlinePosition)f.top=a(c[f.current]).data("cbp").top,f.blocksToMove=a(),c.each(function(b,c){var d=a(c).data("cbp");d.top+d.height>=f.top&&(f.blocksToMove=f.blocksToMove.add(c))}),f.top=Math.max(f.top-f.options.gapHorizontal,0);else{var l=a(c[f.current]).data("cbp");f.top=l.top+l.height,f.blocksToMove=a(),c.each(function(b,c){var d=a(c).data("cbp");d.top+d.height>f.top&&(f.blocksToMove=f.blocksToMove.add(c))})}if(f.wrap[0].style.height=f.wrap.outerHeight(!0)+"px",f.deferredInline=a.Deferred(),f.options.singlePageInlineInFocus){f.scrollTop=a(b).scrollTop();var m=f.cubeportfolio.$obj.offset().top+f.top-100;f.scrollTop!==m?a("html,body").animate({scrollTop:m},350).promise().then(function(){f.resizeSinglePageInline(),f.deferredInline.resolve()}):(f.resizeSinglePageInline(),f.deferredInline.resolve())}else f.resizeSinglePageInline(),f.deferredInline.resolve();f.cubeportfolio.$obj.addClass("cbp-popup-singlePageInline-open"),f.wrap.css({top:f.top}),f.options.singlePageInlineDeeplinking&&(f.url=f.url.split("#cbpi=")[0],location.href=f.url+"#cbpi="+f.dataArray[f.current].url),a.isFunction(f.options.singlePageInlineCallback)&&f.options.singlePageInlineCallback.call(f,f.dataArray[f.current].url,f.dataArray[f.current].element)},resizeSinglePageInline:function(){var a=this;a.height=0===a.top||a.top===a.cubeportfolio.height?a.wrap.outerHeight(!0):a.wrap.outerHeight(!0)-a.options.gapHorizontal,a.storeBlocks.each(function(a,b){e.private.modernBrowser?b.style[e.private.transform]="":b.style.marginTop=""}),a.blocksToMove.each(function(b,c){e.private.modernBrowser?c.style[e.private.transform]="translate3d(0px, "+a.height+"px, 0)":c.style.marginTop=a.height+"px"}),a.cubeportfolio.obj.style.height=a.cubeportfolio.height+a.height+"px"},revertResizeSinglePageInline:function(){var b=this;b.deferredInline=a.Deferred(),b.storeBlocks.each(function(a,b){e.private.modernBrowser?b.style[e.private.transform]="":b.style.marginTop=""}),b.cubeportfolio.obj.style.height=b.cubeportfolio.height+"px"},appendScriptsToWrap:function(a){var b=this,d=0,e=function(f){var g=c.createElement("script"),h=f.src;g.type="text/javascript",g.readyState?g.onreadystatechange=function(){"loaded"!=g.readyState&&"complete"!=g.readyState||(g.onreadystatechange=null,d++,a[d]&&e(a[d]))}:g.onload=function(){d++,a[d]&&e(a[d])},h?g.src=h:g.text=f.text,b.content[0].appendChild(g)};e(a[0])},updateSinglePage:function(b,c,d){var f,e=this;e.content.addClass("cbp-popup-content").removeClass("cbp-popup-content-basic"),d===!1&&e.content.removeClass("cbp-popup-content").addClass("cbp-popup-content-basic"),e.counter&&(f=a(e.getCounterMarkup(e.options.singlePageCounter,e.current+1,e.counterTotal)),e.counter.text(f.text())),e.fromAJAX={html:b,scripts:c},e.finishOpen--,e.finishOpen<=0&&e.updateSinglePageIsOpen.call(e)},updateSinglePageIsOpen:function(){var c,b=this;b.wrap.addClass("cbp-popup-ready"),b.wrap.removeClass("cbp-popup-loading"),b.content.html(b.fromAJAX.html),b.fromAJAX.scripts&&b.appendScriptsToWrap(b.fromAJAX.scripts),b.fromAJAX={},b.cubeportfolio.$obj.trigger("updateSinglePageStart.cbp"),c=b.content.find(".cbp-slider"),c?(c.find(".cbp-slider-item").addClass("cbp-item"),b.slider=c.cubeportfolio({layoutMode:"slider",mediaQueries:[{width:1,cols:1}],gapHorizontal:0,gapVertical:0,caption:"",coverRatio:""})):b.slider=null,b.checkForSocialLinks(b.content),"android"!==e.private.browser&&"ios"!==e.private.browser||a("html").css({position:"fixed"}),b.cubeportfolio.$obj.trigger("updateSinglePageComplete.cbp")},checkForSocialLinks:function(a){var b=this;b.createFacebookShare(a.find(".cbp-social-fb")),b.createTwitterShare(a.find(".cbp-social-twitter")),b.createGooglePlusShare(a.find(".cbp-social-googleplus")),b.createPinterestShare(a.find(".cbp-social-pinterest"))},createFacebookShare:function(a){a.length&&!a.attr("onclick")&&a.attr("onclick","window.open('http://www.facebook.com/sharer.php?u="+encodeURIComponent(b.location.href)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=400'); return false;")},createTwitterShare:function(a){a.length&&!a.attr("onclick")&&a.attr("onclick","window.open('https://twitter.com/intent/tweet?source="+encodeURIComponent(b.location.href)+"&text="+encodeURIComponent(c.title)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=300'); return false;")},createGooglePlusShare:function(a){a.length&&!a.attr("onclick")&&a.attr("onclick","window.open('https://plus.google.com/share?url="+encodeURIComponent(b.location.href)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=450'); return false;")},createPinterestShare:function(a){if(a.length&&!a.attr("onclick")){var c="",d=this.content.find("img")[0];d&&(c=d.src),a.attr("onclick","window.open('http://pinterest.com/pin/create/button/?url="+encodeURIComponent(b.location.href)+"&media="+c+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=400'); return false;")}},updateSinglePageInline:function(a,b){var c=this;c.content.html(a),b&&c.appendScriptsToWrap(b),c.cubeportfolio.$obj.trigger("updateSinglePageInlineStart.cbp"),c.singlePageInlineIsOpen.call(c)},singlePageInlineIsOpen:function(){function b(){a.wrap.addClass("cbp-popup-singlePageInline-ready"),a.wrap[0].style.height="",a.resizeSinglePageInline(),a.cubeportfolio.$obj.trigger("updateSinglePageInlineComplete.cbp")}var a=this;a.cubeportfolio.loadImages(a.wrap,function(){var c=a.content.find(".cbp-slider");c.length?(c.find(".cbp-slider-item").addClass("cbp-item"),c.one("initComplete.cbp",function(){a.deferredInline.done(b)}),c.on("pluginResize.cbp",function(){a.deferredInline.done(b)}),a.slider=c.cubeportfolio({layoutMode:"slider",displayType:"default",mediaQueries:[{width:1,cols:1}],gapHorizontal:0,gapVertical:0,caption:"",coverRatio:""})):(a.slider=null,a.deferredInline.done(b)),a.checkForSocialLinks(a.content)})},isImage:function(b){var c=this;new Image;c.tooggleLoading(!0),c.cubeportfolio.loadImages(a('<div><img src="'+b.src+'"></div>'),function(){c.updateImagesMarkup(b.src,b.title,c.getCounterMarkup(c.options.lightboxCounter,c.current+1,c.counterTotal)),c.tooggleLoading(!1)})},isVimeo:function(a){var b=this;b.updateVideoMarkup(a.src,a.title,b.getCounterMarkup(b.options.lightboxCounter,b.current+1,b.counterTotal))},isYoutube:function(a){var b=this;b.updateVideoMarkup(a.src,a.title,b.getCounterMarkup(b.options.lightboxCounter,b.current+1,b.counterTotal))},isTed:function(a){var b=this;b.updateVideoMarkup(a.src,a.title,b.getCounterMarkup(b.options.lightboxCounter,b.current+1,b.counterTotal))},isSoundCloud:function(a){var b=this;b.updateVideoMarkup(a.src,a.title,b.getCounterMarkup(b.options.lightboxCounter,b.current+1,b.counterTotal))},isSelfHostedVideo:function(a){var b=this;b.updateSelfHostedVideo(a.src,a.title,b.getCounterMarkup(b.options.lightboxCounter,b.current+1,b.counterTotal))},isSelfHostedAudio:function(a){var b=this;b.updateSelfHostedAudio(a.src,a.title,b.getCounterMarkup(b.options.lightboxCounter,b.current+1,b.counterTotal))},getCounterMarkup:function(a,b,c){if(!a.length)return"";var d={current:b,total:c};return a.replace(/\{\{current}}|\{\{total}}/gi,function(a){return d[a.slice(2,-2)]})},updateSelfHostedVideo:function(a,b,c){var e,d=this;d.wrap.addClass("cbp-popup-lightbox-isIframe");var f='<div class="cbp-popup-lightbox-iframe"><video controls="controls" height="auto" style="width: 100%">';for(e=0;e<a.length;e++)/(\.mp4)/i.test(a[e])?f+='<source src="'+a[e]+'" type="video/mp4">':/(\.ogg)|(\.ogv)/i.test(a[e])?f+='<source src="'+a[e]+'" type="video/ogg">':/(\.webm)/i.test(a[e])&&(f+='<source src="'+a[e]+'" type="video/webm">');f+='Your browser does not support the video tag.</video><div class="cbp-popup-lightbox-bottom">'+(b?'<div class="cbp-popup-lightbox-title">'+b+"</div>":"")+c+"</div></div>",d.content.html(f),d.wrap.addClass("cbp-popup-ready"),d.preloadNearbyImages()},updateSelfHostedAudio:function(a,b,c){var d=this;d.wrap.addClass("cbp-popup-lightbox-isIframe");var f='<div class="cbp-popup-lightbox-iframe"><div class="cbp-misc-video"><audio controls="controls" height="auto" style="width: 75%"><source src="'+a+'" type="audio/mpeg">Your browser does not support the audio tag.</audio></div><div class="cbp-popup-lightbox-bottom">'+(b?'<div class="cbp-popup-lightbox-title">'+b+"</div>":"")+c+"</div></div>";d.content.html(f),d.wrap.addClass("cbp-popup-ready"),d.preloadNearbyImages()},updateVideoMarkup:function(a,b,c){var d=this;d.wrap.addClass("cbp-popup-lightbox-isIframe");var e='<div class="cbp-popup-lightbox-iframe"><iframe src="'+a+'" frameborder="0" allowfullscreen scrolling="no"></iframe><div class="cbp-popup-lightbox-bottom">'+(b?'<div class="cbp-popup-lightbox-title">'+b+"</div>":"")+c+"</div></div>";d.content.html(e),d.wrap.addClass("cbp-popup-ready"),d.preloadNearbyImages()},updateImagesMarkup:function(a,b,c){var d=this;d.wrap.removeClass("cbp-popup-lightbox-isIframe");var e='<div class="cbp-popup-lightbox-figure"><img src="'+a+'" class="cbp-popup-lightbox-img" '+d.dataActionImg+' /><div class="cbp-popup-lightbox-bottom">'+(b?'<div class="cbp-popup-lightbox-title">'+b+"</div>":"")+c+"</div></div>";d.content.html(e),d.wrap.addClass("cbp-popup-ready"),d.resizeImage(),d.preloadNearbyImages()},next:function(){var a=this;a[a.type+"JumpTo"](1)},prev:function(){var a=this;a[a.type+"JumpTo"](-1)},lightboxJumpTo:function(a){var c,b=this;b.current=b.getIndex(b.current+a),c=b.dataArray[b.current],b[c.type](c)},singlePageJumpTo:function(b){var c=this;c.current=c.getIndex(c.current+b),a.isFunction(c.options.singlePageCallback)&&(c.resetWrap(),c.wrap.scrollTop(0),c.wrap.addClass("cbp-popup-loading"),c.options.singlePageCallback.call(c,c.dataArray[c.current].url,c.dataArray[c.current].element),c.options.singlePageDeeplinking&&(location.href=c.url+"#cbp="+c.dataArray[c.current].url))},resetWrap:function(){var a=this;"singlePage"===a.type&&a.options.singlePageDeeplinking&&(location.href=a.url+"#"),"singlePageInline"===a.type&&a.options.singlePageInlineDeeplinking&&(location.href=a.url+"#")},getIndex:function(a){var b=this;return a%=b.counterTotal,a<0&&(a=b.counterTotal+a),a},close:function(c,d){function g(){f.content.html(""),f.wrap.detach(),f.cubeportfolio.$obj.removeClass("cbp-popup-singlePageInline-open cbp-popup-singlePageInline-close"),"promise"===c&&a.isFunction(d.callback)&&d.callback.call(f.cubeportfolio),f.resetWrap()}function h(){f.options.singlePageInlineInFocus&&"promise"!==c?a("html,body").animate({scrollTop:f.scrollTop},350).promise().then(function(){g()}):g()}var f=this;f.isOpen=!1,"singlePageInline"===f.type?"open"===c?(f.wrap.removeClass("cbp-popup-singlePageInline-ready"),a(f.dataArray[f.current].element).closest(".cbp-item").removeClass("cbp-singlePageInline-active"),f.openSinglePageInline(d.blocks,d.currentBlock,d.fromOpen)):(f.height=0,f.revertResizeSinglePageInline(),f.wrap.removeClass("cbp-popup-singlePageInline-ready"),f.cubeportfolio.$obj.addClass("cbp-popup-singlePageInline-close"),f.cubeportfolio.$obj.find(".cbp-item").removeClass("cbp-singlePageInline-active"),e.private.modernBrowser?f.wrap.one(e.private.transitionend,function(){h()}):h()):"singlePage"===f.type?(f.resetWrap(),f.wrap.removeClass("cbp-popup-ready cbp-popup-transitionend"),"android"!==e.private.browser&&"ios"!==e.private.browser||(a("html").css({position:""}),f.navigationWrap.appendTo(f.wrap),f.navigationMobile.remove()),a(b).scrollTop(f.scrollTop),setTimeout(function(){f.stopScroll=!0,f.navigationWrap.css({top:f.wrap.scrollTop()}),f.wrap.removeClass("cbp-popup-singlePage-open cbp-popup-singlePage-sticky"),"ie8"!==e.private.browser&&"ie9"!==e.private.browser||(f.content.html(""),f.wrap.detach(),a("html").css({overflow:"",marginRight:"",position:""}),f.navigationWrap.removeAttr("style"));
},0),a("html").css({overflow:"",marginRight:"",position:""}),f.wrap.one(e.private.transitionend,function(){f.content.html(""),f.wrap.detach(),f.navigationWrap.removeAttr("style")})):(f.originalStyle?a("html").attr("style",f.originalStyle):a("html").css({overflow:"",marginRight:""}),a(b).scrollTop(f.scrollTop),f.content.html(""),f.wrap.detach())},tooggleLoading:function(a){var b=this;b.stopEvents=a,b.wrap[a?"addClass":"removeClass"]("cbp-popup-loading")},resizeImage:function(){if(this.isOpen){var c=a(b).height(),d=this.content.find("img"),e=parseInt(d.css("margin-top"),10)+parseInt(d.css("margin-bottom"),10);d.css("max-height",c-e+"px")}},preloadNearbyImages:function(){var a=[],c=this;a.push(c.getIndex(c.current+1)),a.push(c.getIndex(c.current+2)),a.push(c.getIndex(c.current+3)),a.push(c.getIndex(c.current-1)),a.push(c.getIndex(c.current-2)),a.push(c.getIndex(c.current-3));for(var e=a.length-1;e>=0;e--)"isImage"===c.dataArray[a[e]].type&&c.cubeportfolio.checkSrc(c.dataArray[a[e]].src)}},h=!1,i=!1;g.prototype.run=function(){var b=this,d=b.parent,e=a(c.body);d.lightbox=null,d.options.lightboxDelegate&&!h&&(h=!0,d.lightbox=Object.create(f),d.lightbox.init(d,"lightbox"),e.on("click.cbp",d.options.lightboxDelegate,function(c){c.preventDefault();var e=a(this),f=e.attr("data-cbp-lightbox"),g=b.detectScope(e),h=g.data("cubeportfolio"),i=[];h?h.blocksOn.each(function(b,c){var e=a(c);e.not(".cbp-item-off")&&e.find(d.options.lightboxDelegate).each(function(b,c){f?a(c).attr("data-cbp-lightbox")===f&&i.push(c):i.push(c)})}):i=f?g.find(d.options.lightboxDelegate+"[data-cbp-lightbox="+f+"]"):g.find(d.options.lightboxDelegate),d.lightbox.openLightbox(i,e[0])})),d.singlePage=null,d.options.singlePageDelegate&&!i&&(i=!0,d.singlePage=Object.create(f),d.singlePage.init(d,"singlePage"),e.on("click.cbp",d.options.singlePageDelegate,function(c){c.preventDefault();var e=a(this),f=e.attr("data-cbp-singlePage"),g=b.detectScope(e),h=g.data("cubeportfolio"),i=[];h?h.blocksOn.each(function(b,c){var e=a(c);e.not(".cbp-item-off")&&e.find(d.options.singlePageDelegate).each(function(b,c){f?a(c).attr("data-cbp-singlePage")===f&&i.push(c):i.push(c)})}):i=f?g.find(d.options.singlePageDelegate+"[data-cbp-singlePage="+f+"]"):g.find(d.options.singlePageDelegate),d.singlePage.openSinglePage(i,e[0])})),d.singlePageInline=null,d.options.singlePageInlineDelegate&&(d.singlePageInline=Object.create(f),d.singlePageInline.init(d,"singlePageInline"),d.$obj.on("click.cbp",d.options.singlePageInlineDelegate,function(b){b.preventDefault();var c=a.data(this,"cbp-locked"),e=a.data(this,"cbp-locked",+new Date);(!c||e-c>300)&&d.singlePageInline.openSinglePageInline(d.blocksOn,this)}))},g.prototype.detectScope=function(b){var d,e,f;return d=b.closest(".cbp-popup-singlePageInline"),d.length?(f=b.closest(".cbp",d[0]),f.length?f:d):(e=b.closest(".cbp-popup-singlePage"),e.length?(f=b.closest(".cbp",e[0]),f.length?f:e):(f=b.closest(".cbp"),f.length?f:a(c.body)))},g.prototype.destroy=function(){var b=this.parent;a(c.body).off("click.cbp"),h=!1,i=!1,b.lightbox&&b.lightbox.destroy(),b.singlePage&&b.singlePage.destroy(),b.singlePageInline&&b.singlePageInline.destroy()},e.plugins.popUp=function(a){return new g(a)}}(jQuery,window,document),function(a,b,c,d){"use strict";function f(b){var c=this;c.parent=b,c.searchInput=a(b.options.search),c.searchInput.each(function(b,c){var d=c.getAttribute("data-search");d||(d="*"),a.data(c,"searchData",{value:c.value,el:d})});var d=null;c.searchInput.on("keyup.cbp paste.cbp",function(b){b.preventDefault();var e=a(this);clearTimeout(d),d=setTimeout(function(){c.runEvent.call(c,e)},300)}),c.searchNothing=c.searchInput.siblings(".cbp-search-nothing").detach(),c.searchNothingHeight=null,c.searchNothingHTML=c.searchNothing.html(),c.searchInput.siblings(".cbp-search-icon").on("click.cbp",function(b){b.preventDefault(),c.runEvent.call(c,a(this).prev().val(""))})}var e=a.fn.cubeportfolio.constructor;f.prototype.runEvent=function(b){var c=this,d=b.val(),e=b.data("searchData"),f=new RegExp(d,"i");e.value===d||c.parent.isAnimating||(e.value=d,d.length>0?b.attr("value",d):b.removeAttr("value"),c.parent.$obj.cubeportfolio("filter",function(b){var g=b.filter(function(b,c){var d=a(c).find(e.el).text();if(d.search(f)>-1)return!0});if(0===g.length&&c.searchNothing.length){var h=c.searchNothingHTML.replace("{{query}}",d);c.searchNothing.html(h),c.searchNothing.appendTo(c.parent.$obj),null===c.searchNothingHeight&&(c.searchNothingHeight=c.searchNothing.outerHeight(!0)),c.parent.registerEvent("resizeMainContainer",function(){c.parent.height=c.parent.height+c.searchNothingHeight,c.parent.obj.style.height=c.parent.height+"px"},!0)}else c.searchNothing.detach();return g},function(){b.trigger("keyup.cbp")}))},f.prototype.destroy=function(){var b=this;b.searchInput.off(".cbp"),b.searchInput.next(".cbp-search-icon").off(".cbp"),b.searchInput.each(function(b,c){a.removeData(c)})},e.plugins.search=function(a){return""===a.options.search?null:new f(a)}}(jQuery,window,document),function(a,b,c,d){"use strict";function g(b){var c=this;c.parent=b,c.options=a.extend({},e,c.parent.options.plugins.slider);var d=a(c.options.pagination);d.length>0&&(c.parent.customPagination=d,c.parent.customPaginationItems=d.children(),c.parent.customPaginationClass=c.options.paginationClass,c.parent.customPaginationItems.on("click.cbp",function(b){b.preventDefault(),b.stopImmediatePropagation(),b.stopPropagation(),c.parent.sliderStopEvents||c.parent.jumpToSlider(a(this))})),c.parent.registerEvent("gridAdjust",function(){c.sliderMarkup.call(c.parent),c.parent.registerEvent("gridAdjust",function(){c.updateSlider.call(c.parent)})},!0)}var e={pagination:"",paginationClass:"cbp-pagination-active"},f=a.fn.cubeportfolio.constructor;g.prototype.sliderMarkup=function(){var b=this;b.sliderStopEvents=!1,b.sliderActive=0,b.$obj.one("initComplete.cbp",function(){b.$obj.addClass("cbp-mode-slider")}),b.nav=a("<div/>",{class:"cbp-nav"}),b.nav.on("click.cbp","[data-slider-action]",function(c){if(c.preventDefault(),c.stopImmediatePropagation(),c.stopPropagation(),!b.sliderStopEvents){var d=a(this),e=d.attr("data-slider-action");b[e+"Slider"]&&b[e+"Slider"](d)}}),b.options.showNavigation&&(b.controls=a("<div/>",{class:"cbp-nav-controls"}),b.navPrev=a("<div/>",{class:"cbp-nav-prev","data-slider-action":"prev"}).appendTo(b.controls),b.navNext=a("<div/>",{class:"cbp-nav-next","data-slider-action":"next"}).appendTo(b.controls),b.controls.appendTo(b.nav)),b.options.showPagination&&(b.navPagination=a("<div/>",{class:"cbp-nav-pagination"}).appendTo(b.nav)),(b.controls||b.navPagination)&&b.nav.appendTo(b.$obj),b.updateSliderPagination(),b.options.auto&&(b.options.autoPauseOnHover&&(b.mouseIsEntered=!1,b.$obj.on("mouseenter.cbp",function(a){b.mouseIsEntered=!0,b.stopSliderAuto()}).on("mouseleave.cbp",function(a){b.mouseIsEntered=!1,b.startSliderAuto()})),b.startSliderAuto()),b.options.drag&&f.private.modernBrowser&&b.dragSlider()},g.prototype.updateSlider=function(){var a=this;a.updateSliderPosition(),a.updateSliderPagination()},g.prototype.destroy=function(){var a=this;a.parent.customPaginationItems&&a.parent.customPaginationItems.off(".cbp"),(a.parent.controls||a.parent.navPagination)&&(a.parent.nav.off(".cbp"),a.parent.nav.remove())},f.plugins.slider=function(a){return"slider"!==a.options.layoutMode?null:new g(a)}}(jQuery,window,document);